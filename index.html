<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="description" content="A coffee brewing calculator for V60 pourover, AeroPress, drip, and iced coffee.">
    <meta name="author" content="Neal Shyam | @nealrs">
    <title>Kopimatic</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Display:ital,wght@0,100..900;1,100..900&family=Sour+Gummy:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/theme.css">
    <link rel="icon" href="img/head2.png">
    <link rel="apple-touch-icon" sizes="128x128" href="img/head2_orig.png">
    <link rel="manifest" href="manifest.json">
    <meta property="og:title" content="Kopimatic" />
    <meta property="og:type" content="website" />
    <meta name="og:description" content="Neal Shyam's coffee brewing calculator for V60 pourover, AeroPress, drip, and iced coffee.">
    <meta property="og:url" content="https://nealrs.github.io/kopi/" />
    <meta property="og:image" content="https://nealrs.github.io/kopi/img/head2_orig.png" />
    <meta name="twitter:card" content="summary_large_image">
    <meta name="theme-color" content="#fffdf5" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#38220f" media="(prefers-color-scheme: dark)">
    <meta name="apple-mobile-web-app-capable" content="yes">
  </head>
<body>
<div class="container">
  <header class="site-header">
    <div class="site-logo">
      <img class="head" src="img/head2.png" alt="Kopimatic logo">
    </div>
    <div class="site-meta">
      <h1 class="sour-gummy">KOPIMATIC</h1>
      <div id="wake" aria-label="Keep screen awake while following recipes" title="Keep screen awake while following recipes">
        <button id="wake_btn" class="wake-btn" aria-pressed="false" aria-label="Keep screen awake while following recipes">Recipe Mode OFF</button>
      </div>
    </div>
  </header>
  <!-- navigation removed in favor of mobile tab bar -->
  
  <div id="v60" class="section tab-section" data-tab="v60">
    <h3 class="hide-mobile">V60 Pourover</h3>
    <p>How much coffee you making?</p>
    <div>
      <div>
        <input type="range" min="10" max="17" step="1" list="v60_list" id="v60_oz" value="12" oninput="v60()">
        <span id="v60_vol" class="range_val">12 oz</span>
      </div>
      <datalist id="v60_list">
        <option value="10" label="10">10</option>
        <option value="11" label="11">11</option>
        <option value="12" label="12">12</option>
        <option value="13" label="13">13</option>
        <option value="14" label="14">14</option>
        <option value="15" label="15">15</option>
        <option value="16" label="16">16</option>
        <option value="17" label="17">17</option>
      </datalist>
    </div>
    <!--This is some edited AI stuff too for this flexbox nonsense-->
    <div style="flex: 0 0 80%; display: flex; justify-content: space-between;max-width: 80%;">
      <span style="margin-right: auto;">10</span>
      <span style="margin-left: auto;">17</span>
    </div>

    <p>Grind <strong><span id="v60_beans">22</span></strong> grams of beans at setting <strong>6</strong>.</p>
    <table>
      <thead>
        <tr>
          <th>Pour</th>
          <th>Total Water (mL)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Bloom (60s)</td>
          <td id="v60_stage_0">-</td>
        </tr>
        <tr>
          <td>Stage 1</td>
          <td id="v60_stage_1">-</td>
        </tr>
        <tr>
          <td>Stage 2</td>
          <td id="v60_stage_2">-</td>
        </tr>
        <tr>
          <td>Stage 3</td>
          <td id="v60_stage_3">-</td>
        </tr>
        <tr>
          <td>Stage 4</td>
          <td id="v60_stage_4">-</td>
        </tr>
        <tr>
          <td>Stage 5</td>
          <td id="v60_stage_5">-</td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <div id="aero" class="section tab-section" data-tab="aero">
    <h3 class="hide-mobile">AeroPress</h3>
    <p>How many mL of coffee you making?</p>
    <div>
      <input type="radio" id="aero_vol1" name="aero_ml" value="200" checked  onchange="aero();"/>
      <label class="radio_label" for="aero_vol1">200</label>
      <input type="radio" id="aero_vol2" name="aero_ml" value="230" onchange="aero();"/>
      <label class="radio_label"for="aero_vol2">230</label>
      <input type="radio" id="aero_vol3" name="aero_ml" value="250" onchange="aero();"/>
      <label class="radio_label"for="aero_vol3">250</label>
      <input type="radio" id="aero_vol4" name="aero_ml" value="270" onchange="aero();"/>
      <label class="radio_label"for="aero_vol4">270 (9oz)</label>
    </div>

    <p id="aero_warning">⚠️ AeroPress Go is too small for <span id="aero_warning_text"></span> mL!</p>

    <p>Grind <strong><span id="aero_beans">22</span></strong> grams of beans at setting <strong>4</strong>.</p>

    <p><strong>0:00</strong>, fill brewer, stir, cover, &amp; preheat cup</p>
    <p><strong>2:30</strong>, swirl brewer gently</p>
    <p><strong>3:00</strong>, empty cup & press for ~60s</p>
    
  </div>

  <div id="drip" class="section tab-section" data-tab="drip">
    <h3 class="hide-mobile">Drip Coffee Machine</h3>
    <p>How many 5oz cups of coffee you making?</p>
    <div>
      <div>
        <input type="range" min="2" max="8" step="1" list="drip_list" id="v60_cups" value="3" oninput="drip()">
        <span id="drip_vol" class="range_val">3 cups</span>
      </div>

      <datalist id="drip_list">
        <option value="2" label="2"></option>
        <option value="3" label="3"></option>
        <option value="4" label="4"></option>
        <option value="5" label="5"></option>
        <option value="6" label="6"></option>
        <option value="7" label="7"></option>
        <option value="8" label="8"></option>
      </datalist>
    </div>
    <div style="flex: 0 0 80%; display: flex; justify-content: space-between;max-width: 80%;">
      <span style="margin-right: auto;">2</span>
      <span style="margin-left: auto;">8</span>
    </div>

    <p>Grind <strong><span id="drip_beans">22</span></strong> grams of beans at setting <strong>5</strong>.</p>

    <div id="drip_instructions"></div>
    
  </div>
  
  <div id="iced" class="section tab-section" data-tab="iced">
    <h3 class="hide-mobile">Iced Coffee (Drip / V60)</h3>
    <p>Recipe makes 500mL of iced coffee, per <a href="https://www.youtube.com/watch?v=PApBycDrPo0" target="_blank">James Hoffman</a>.</p>

    <!-- Iced method toggle: choose pourover or drip (moved back above grinding instructions) -->
    <div class="iced-toggle" role="tablist" aria-label="Iced method">
      <button class="seg-btn" data-iced="pourover" aria-pressed="true">Pourover</button>
      <button class="seg-btn" data-iced="drip" aria-pressed="false">Drip</button>
    </div>

    <p id="iced_grind_paragraph">Grind <strong><span id="iced_beans">33</span></strong> grams of beans at setting <strong id="iced_grind">6</strong> <span id="iced_grind_note">(pourover)</span>.</p>

    <p>Load <strong>200</strong> grams of ice in carafe.</p>


    

    <div class="iced-drip">
      <p>Pour <strong>300</strong> mL of water into machine.</p>
      <p>Use large wavy filter <em>without</em> grey insert.</p>
      <p>Slide basket toggle to the right for carafe.</p>
    </div>
    <div class="iced-pourover">
      <table>
      <thead>
        <tr>
          <th>Pour</th>
          <th>Total Water (mL)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Bloom (60s)</td>
          <td id="iced_stage_0">100</td>
        </tr>
        <tr>
          <td>Stage 1</td>
          <td id="iced_stage_1">150</td>
        </tr>
        <tr>
          <td>Stage 2</td>
          <td id="iced_stage_2">200</td>
        </tr>
        <tr>
          <td>Stage 3</td>
          <td id="iced_stage_3">250</td>
        </tr>
        <tr>
          <td>Stage 4</td>
          <td id="iced_stage_4">300</td>
        </tr>
      </tbody>
    </table>
      </table>
    </div>

  </div>

  <div id="about" >
    <!--<p>Recipes based on my equipment &amp; tastes.</p>
    <ul>
      <li><a href="https://fellowproducts.com/products/ode-brew-grinder-gen-2" target="_blank">Fellow Ode Gen2</a> grinder</li>
      <li><a href="https://www.hario-usa.com/products/v60-drip-decanter" target="_blank">Hario v60</a> brewer with glass carafe (1:16)</li>
      <li><a href="https://cafec-jp.com/products/filterpaper" target="_blank">Cafec Abaca</a> pourover filters</li>
      <li><a href="https://www.oxo.com/8-cup-coffee-maker.html" target="_blank">Oxo 8 cup</a> drip machine (1:20)</li>
      <li><a href="https://aeropress.com/products/aeropress-coffee-maker" target="_blank">AeroPress</a> brewer &amp; <a href="https://aeropress.com/products/aeropress-flow-control-filter-cap" target="_blank">filter cap</a> (1:14)</li>
    </ul>-->
    <p>&copy; <a href="https://nealshyam.com" target="_blank">Neal Shyam</a></p>
  </div>
  <!-- Mobile tab bar (visible at small viewports) -->
  <nav class="tabbar" role="tablist" aria-label="Brew methods">
    <button role="tab" class="tabbtn" data-tab-target="v60" aria-selected="false">Pourover</button>
    <button role="tab" class="tabbtn" data-tab-target="aero" aria-selected="false">AeroPress</button>
    <button role="tab" class="tabbtn" data-tab-target="drip" aria-selected="false">Drip</button>
    <button role="tab" class="tabbtn" data-tab-target="iced" aria-selected="false">Iced</button>
  </nav>
  <!--<p>&copy; <a href="https://nealshyam.com" target="_blank">Neal Shyam</a></p>-->
</div>
<script src="js/main.js"></script>
</body>
</html>